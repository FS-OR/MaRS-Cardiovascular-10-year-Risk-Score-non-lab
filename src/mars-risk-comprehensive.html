<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaRS — Comprehensive Cardiovascular Risk Tools</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { color: #2c3e50; }
        table { border-collapse: collapse; width: 100%; margin: 10px 0; }
        th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        th { background-color: #f2f2f2; }
        form { margin: 10px 0; }
        label { display: block; margin: 5px 0; }
        input[type="number"], input[type="text"] { width: 100px; }
        button { padding: 5px 10px; background-color: #3498db; color: white; border: none; cursor: pointer; }
        button:hover { background-color: #2980b9; }
    </style>
</head>
<body>
    <h1>MaRS — Comprehensive Cardiovascular Risk Tools</h1>
    <p>MaRS is a research project for non-laboratory cardiovascular risk determination, currently under validation within the <a href="https://fastscience.org" target="_blank">Fast Science – Open Research</a> initiative. It aims to promote simple and broad participation of health professionals in clinical research.</p>
    <p><a href="https://github.com/vbimarciu/MaRS" target="_blank">GitHub Repository</a> | <a href="https://fastscience.org/license" target="_blank">MaRS Open Collaboration License</a></p>

    <hr>

    <h2>MaRS — Comprehensive Cardiovascular Risk Tools</h2>

    <h3>1. Blood Pressure Interpreter — AHA vs ESH</h3>
    <form>
        <label>SBP (mmHg): <input type="number" id="sbp" min="0" max="300" required></label>
        <label>DBP (mmHg): <input type="number" id="dbp" min="0" max="200" required></label>
        <label>Context:
            <select id="context">
                <option value="office">Office / Clinic</option>
                <option value="home">Home or ABPM Daytime</option>
                <option value="night">ABPM Nighttime</option>
                <option value="24h">ABPM 24h Average</option>
            </select>
        </label>
        <label>Measurement during daytime? <input type="checkbox" id="daytime"></label>
        <label>Activity level at/within 30 min:
            <select id="activity">
                <option value="rest">Seated rest (5+ min)</option>
                <option value="light">Light (walking casually, chores)</option>
                <option value="moderate">Moderate (brisk walk, stairs, cycling < 15 km/h)</option>
                <option value="vigorous">Vigorous (running, HIIT, heavy lifting)</option>
            </select>
        </label>
        <button type="button" onclick="interpretBloodPressure()">Interpret</button>
    </form>
    <div id="bpResult"></div>

    <p><strong>Notes:</strong></p>
    <ul>
        <li>Classification chooses the higher category if SBP and DBP differ.</li>
        <li>Diagnostic thresholds depend on context (office/home/night/24h).</li>
        <li>Heuristic correction subtracts small offsets if measured during activity: light -5/-3, moderate -10/-6, vigorous -15/-10 mmHg.</li>
        <li>For medical decisions, use standardized measurements and professional guidance.</li>
    </ul>

    <p><strong>Legend:</strong></p>
    <ul>
        <li>SBP = Systolic Blood Pressure</li>
        <li>DBP = Diastolic Blood Pressure</li>
    </ul>

    <h3>2. MaRS 10-Year Cardiovascular Risk Calculator</h3>
    <form>
        <label>Age (30-79): <input type="number" id="age_mars" min="30" max="79" required></label>
        <label>Sex:
            <input type="radio" name="sex" value="male" required>Male
            <input type="radio" name="sex" value="female">Female
        </label>
        <label>SBP (90-200): <input type="number" id="sbp_mars" min="90" max="200" required></label>
        <label>Antihypertensive tx:
            <input type="radio" name="antihypertensive" value="no" required>No
            <input type="radio" name="antihypertensive" value="yes">Yes
        </label>
        <label>Smoker:
            <input type="radio" name="smoker" value="no" required>No
            <input type="radio" name="smoker" value="yes">Yes
        </label>
        <label>Diabetes:
            <input type="radio" name="diabetes" value="no" required>No
            <input type="radio" name="diabetes" value="yes">Yes
        </label>
        <label>BMI (16-50): <input type="number" id="bmi" min="16" max="50" required></label>
        <label>Family History:
            <input type="radio" name="family_history" value="no" required>No
            <input type="radio" name="family_history" value="yes">Yes
        </label>
        <button type="button" onclick="calculateMarsRisk()">Calculate MaRS Risk</button>
    </form>
    <div id="marsResult"></div>

    <p><strong>Legend:</strong></p>
    <ul>
        <li>SBP = Systolic Blood Pressure</li>
        <li>DBP = Diastolic Blood Pressure</li>
    </ul>

    <h3>3. Framingham Risk Calculator — CHD & CVD</h3>
    <form>
        <label>Risk model:
            <select id="framingham_model">
                <option value="cvd_2008">Framingham CVD (2008)</option>
                <option value="chd_1998">Framingham Hard CHD (1998)</option>
            </select>
        </label>
        <label>Sex:
            <input type="radio" name="sex_framingham" value="male" required>Male
            <input type="radio" name="sex_framingham" value="female">Female
        </label>
        <label>Age (20-79): <input type="number" id="age_framingham" min="20" max="79" required></label>
        <label>Total Cholesterol (mg/dL, 100-400): <input type="number" id="chol" min="100" max="400" required></label>
        <label>HDL Cholesterol (mg/dL, 20-100): <input type="number" id="hdl" min="20" max="100" required></label>
        <label>SBP (mmHg, 90-200): <input type="number" id="sbp_framingham" min="90" max="200" required></label>
        <label>Antihypertensive tx:
            <input type="radio" name="antihypertensive_framingham" value="no" required>No
            <input type="radio" name="antihypertensive_framingham" value="yes">Yes
        </label>
        <label>Smoker:
            <input type="radio" name="smoker_framingham" value="no" required>No
            <input type="radio" name="smoker_framingham" value="yes">Yes
        </label>
        <label>Diabetes:
            <input type="radio" name="diabetes_framingham" value="no" required>No
            <input type="radio" name="diabetes_framingham" value="yes">Yes
        </label>
        <button type="button" onclick="calculateFraminghamRisk()">Calculate</button>
    </form>
    <div id="framinghamResult"></div>

    <p><strong>Legend:</strong></p>
    <ul>
        <li>SBP = Systolic Blood Pressure</li>
        <li>DBP = Diastolic Blood Pressure</li>
    </ul>

    <h3>4. Risk Comparison Chart</h3>
    <button type="button" onclick="compareRisks()">Compare Risks</button>
    <div id="riskChart"></div>

    <hr>

    <h3>License and Citation</h3>
    <p>MaRS is released under an Open License within the <a href="https://fastscience.org" target="_blank">Fast Science – Open Research</a> project and invites all professionals to contribute to its clinical validation.</p>
    <p><strong>Citation:</strong></p>
    <p>Marciu, Vicențiu Bogdan Ion. (2025). MaRS (Marciu Risk Score): Non-laboratory cardiovascular risk framework (v1.0.0). <a href="https://github.com/vbimarciu/MaRS" target="_blank">GitHub Repository</a></p>

    <p>© 2025 MaRS — Fast Science / Open Research</p>
    <p>Developed by Vicențiu Bogdan Ion Marciu | <a href="https://github.com/vbimarciu/MaRS" target="_blank">GitHub Repository</a></p>
    <p>MaRS is a research framework and NOT a medical device. Clinical decisions remain with licensed clinicians.</p>

    <script>
        // Placeholder functions - actual logic would require server-side or complex JS
        function interpretBloodPressure() {
            const sbp = document.getElementById('sbp').value;
            const dbp = document.getElementById('dbp').value;
            const context = document.getElementById('context').value;
            const daytime = document.getElementById('daytime').checked;
            const activity = document.getElementById('activity').value;
            // Add heuristic correction logic here (e.g., subtract offsets based on activity)
            let result = `SBP: ${sbp} mmHg, DBP: ${dbp} mmHg in ${context} context`;
            if (activity !== 'rest') result += ` (corrected for ${activity})`;
            document.getElementById('bpResult').innerText = result;
        }

        function calculateMarsRisk() {
            // Placeholder - would need logistic model (logit(p) = -3.2 + β*var)
            document.getElementById('marsResult').innerText = "MaRS Risk: [Calculate with server-side logic]";
        }

        function calculateFraminghamRisk() {
            // Placeholder - would need Framingham equations
            document.getElementById('framinghamResult').innerText = "Framingham Risk: [Calculate with server-side logic]";
        }

        function compareRisks() {
            // Placeholder - would need chart.js or similar
            document.getElementById('riskChart').innerText = "Risk Comparison Chart: [Generate chart here]";
        }
    </script>
</body>
</html>
